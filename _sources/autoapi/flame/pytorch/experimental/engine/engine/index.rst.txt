:mod:`flame.pytorch.experimental.engine.engine`
===============================================

.. py:module:: flame.pytorch.experimental.engine.engine

.. autoapi-nested-parse::

   Process::

       call setup(data, max_epochs, max_iterations, epoch_length)
       call start_epoch_loop() as
           while not done (epoch < max_epochs):
               call step_epoch() as
                   update epoch
                   call start_iteration_loop() as
                       update iteration
                       while True:
                           try:
                               call step_iteration()
                           except StopIteration:
                               break

                       reset iteraion

               reset epoch, data_iter

   需要思考set local_iteration, reset local_iteration的时机，现在的设置可能有问题



Module Contents
---------------

Classes
~~~~~~~

.. autoapisummary::

   flame.pytorch.experimental.engine.engine.Engine



Functions
~~~~~~~~~

.. autoapisummary::

   flame.pytorch.experimental.engine.engine._default_process_function


.. data:: _logger
   

   

.. data:: HandlerTuple
   

   

.. data:: EventHandlerDict
   

   

.. function:: _default_process_function(batch: Any) -> Any


.. class:: Engine(process_function: Callable = _default_process_function, container: Optional[Injector] = None)


   Bases: :class:`flame.pytorch.experimental.engine.mixins.Serializable`

   作为Engine的基类

   .. method:: add_event_handler(self, event_name: Union[(Events, EventsList)], handler: Callable, **kwargs)


   .. method:: has_event_handler(self, handler: Callable, event_name: Optional[Any] = None) -> bool

      FIXME: 实现不是很正确


   .. method:: compare_handlers(user_handler: Callable, registered_handler: Callable) -> bool
      :staticmethod:

      FIXME: 比较不是很准确


   .. method:: _fire_event(self, event_name: Any)

      最好不要用args，顺序很难确定


   .. method:: fire_event(self, event_name: Any)


   .. method:: step_epoch(self)


   .. method:: step_iteration(self)


   .. method:: internal_run(self)


   .. method:: set_epoch(self, epoch: int)


   .. method:: set_data(self, data: Iterable)


   .. method:: setup(self, data: Iterable, max_epochs: Optional[int] = None, max_iterations: Optional[int] = None, epoch_length: Optional[int] = None)


   .. method:: _start_epoch_loop(self)


   .. method:: _start_iteration_loop(self)


   .. method:: _setup_engine(self)

      Copy fron ignite engine

      不知道有什么用


   .. method:: get_data_length(data: Iterable) -> Optional[int]
      :staticmethod:


   .. method:: run(self, data: Iterable, max_epochs: Optional[int] = None, max_iterations: Optional[int] = None, epoch_length: Optional[int] = None)



